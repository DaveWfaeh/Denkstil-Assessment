<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Denkstil-Assessment ‚Äì F√§h Consulting</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #f5f6fa;
    --surface: #ffffff;
    --card: #ffffff;
    --border: #e0e3ef;
    --text: #111111;
    --muted: #555555;
    --A: #2680c2;
    --B: #1a9e6e;
    --C: #c45a20;
    --D: #9030c0;
    --accent: #c8960a;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }
  html { scroll-behavior: smooth; }
  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
    line-height: 1.5;
  }
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      radial-gradient(circle at 15% 15%, rgba(38,128,194,0.05) 0%, transparent 50%),
      radial-gradient(circle at 85% 85%, rgba(144,48,192,0.04) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
  }

  /* ‚îÄ‚îÄ LOGO BAR ‚îÄ‚îÄ */
  .logo-bar {
    position: sticky;
    top: 0;
    z-index: 200;
    background: rgba(255,255,255,0.97);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--border);
    padding: 0.55rem 1.5rem;
    display: flex;
    align-items: center;
  }
  .logo-bar a {
    display: flex;
    align-items: center;
    text-decoration: none;
    gap: 0.6rem;
    opacity: 0.9;
    transition: opacity 0.2s;
  }
  .logo-bar a:hover { opacity: 1; }
  .logo-bar img {
    height: 80px;
    width: auto;
    display: block;
  }
  @media (max-width: 500px) {
    .logo-bar img { height: 60px; }
    .logo-bar { padding: 0.5rem 1rem; }
  }

  .container {
    max-width: 860px;
    margin: 0 auto;
    padding: 2rem 1.5rem 5rem;
    position: relative;
    z-index: 1;
  }

  /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
  header {
    text-align: center;
    margin-bottom: 2.5rem;
    padding-top: 1.5rem;
  }
  .quadrant-badges { display: flex; gap: 6px; justify-content: center; margin-bottom: 1.2rem; }
  .qb {
    width: 28px; height: 28px;
    border-radius: 6px;
    display: flex; align-items: center; justify-content: center;
    font-weight: 600; font-size: 13px;
  }
  .qb-A { background: rgba(38,128,194,0.15); color: var(--A); border: 1px solid var(--A); }
  .qb-B { background: rgba(26,158,110,0.15); color: var(--B); border: 1px solid var(--B); }
  .qb-C { background: rgba(196,90,32,0.15);  color: var(--C); border: 1px solid var(--C); }
  .qb-D { background: rgba(144,48,192,0.15); color: var(--D); border: 1px solid var(--D); }
  header h1 {
    font-family: 'DM Serif Display', serif;
    font-size: clamp(2rem, 5vw, 3.2rem);
    letter-spacing: -0.5px;
    line-height: 1.1;
    color: #1a1c2a;
  }
  header h1 em { color: var(--accent); font-style: italic; }
  header p {
    color: var(--muted);
    margin-top: 0.8rem;
    font-size: 0.95rem;
    max-width: 480px;
    margin-left: auto; margin-right: auto;
    line-height: 1.6;
  }

  /* ‚îÄ‚îÄ STICKY PROGRESS ‚îÄ‚îÄ */
  .sticky-progress {
    position: sticky;
    top: 100px;
    z-index: 100;
    background: rgba(245,246,250,0.96);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 0.7rem 0;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid var(--border);
  }
  .progress-meta { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.4rem; }
  .progress-label { font-size: 0.8rem; color: var(--muted); }
  .progress-count { font-size: 0.8rem; font-weight: 600; color: var(--accent); }
  .progress-bar-bg { height: 4px; border-radius: 99px; background: var(--border); overflow: hidden; }
  .progress-bar-fill { height: 100%; background: linear-gradient(90deg, var(--A), var(--D)); border-radius: 99px; transition: width 0.4s ease; }

  /* ‚îÄ‚îÄ NAV DOTS ‚îÄ‚îÄ */
  .section-nav { display: flex; justify-content: center; gap: 6px; margin-bottom: 2rem; flex-wrap: wrap; }
  .nav-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--border); transition: all 0.3s; cursor: pointer; }
  .nav-dot:hover { transform: scale(1.3); }
  .nav-dot.active { background: var(--accent); transform: scale(1.5); }
  .nav-dot.done { background: var(--B); }

  /* ‚îÄ‚îÄ SECTION HEADER ‚îÄ‚îÄ */
  .section-header { display: flex; align-items: center; gap: 0.8rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
  .section-badge { padding: 0.3rem 0.9rem; border-radius: 20px; font-size: 0.78rem; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; }
  .section-title { font-family: 'DM Serif Display', serif; font-size: 1.25rem; color: #111; }

  /* ‚îÄ‚îÄ QUESTION CARD ‚îÄ‚îÄ */
  .question-card {
    background: var(--card);
    border: 2px solid var(--border);
    border-radius: 14px;
    padding: 1.4rem;
    margin-bottom: 0.9rem;
    transition: border-color 0.2s, box-shadow 0.2s, background 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    position: relative;
  }
  .question-card:hover { border-color: #c0c8e0; box-shadow: 0 4px 16px rgba(0,0,0,0.09); }
  .question-card.answered { border-color: rgba(26,158,110,0.45); background: rgba(26,158,110,0.025); }
  .question-card.answered::after { content: '‚úì'; position: absolute; top: 0.85rem; right: 1rem; color: var(--B); font-size: 1rem; font-weight: 700; }
  .question-card.highlight { border-color: var(--accent) !important; box-shadow: 0 0 0 3px rgba(200,150,10,0.15) !important; }
  .question-text { font-size: 0.97rem; line-height: 1.65; margin-bottom: 1.1rem; color: var(--text); padding-right: 1.5rem; }
  .q-num { font-size: 0.72rem; font-weight: 600; color: var(--muted); margin-bottom: 0.4rem; text-transform: uppercase; letter-spacing: 0.06em; }

  /* ‚îÄ‚îÄ LIKERT ‚îÄ‚îÄ */
  .likert { display: flex; gap: 6px; }
  .likert input[type="radio"] { display: none; }
  .likert label {
    flex: 1; text-align: center; padding: 0.6rem 0.2rem;
    border-radius: 8px; border: 1.5px solid var(--border);
    cursor: pointer; font-size: 0.92rem; font-weight: 500;
    color: var(--muted); transition: all 0.15s; background: #f8f9fc;
    min-width: 0; user-select: none;
  }
  .likert label:hover { border-color: var(--accent); color: var(--accent); background: #fefaf0; }
  .likert input[type="radio"]:checked + label {
    background: var(--accent); border-color: var(--accent); color: #ffffff;
    font-weight: 700; box-shadow: 0 2px 8px rgba(200,150,10,0.3);
  }
  .likert-labels { display: flex; justify-content: space-between; margin-top: 0.4rem; font-size: 0.69rem; color: var(--muted); padding: 0 2px; }

  /* ‚îÄ‚îÄ BUTTONS ‚îÄ‚îÄ */
  .btn-row { display: flex; gap: 1rem; margin-top: 2rem; justify-content: flex-end; }
  .btn { padding: 0.8rem 2rem; border-radius: 10px; border: none; cursor: pointer; font-family: 'DM Sans', sans-serif; font-size: 0.95rem; font-weight: 600; transition: all 0.2s; }
  .btn-primary { background: var(--accent); color: #ffffff; }
  .btn-primary:hover { opacity: 0.9; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(200,150,10,0.3); }
  .btn-primary:disabled { opacity: 0.35; cursor: not-allowed; transform: none; box-shadow: none; }
  .btn-secondary { background: transparent; color: var(--text); border: 1.5px solid var(--border); }
  .btn-secondary:hover { border-color: #aaa; }

  /* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
  .toast {
    position: fixed; bottom: 1.5rem; left: 50%;
    transform: translateX(-50%) translateY(130%);
    background: #1a1c2a; color: #fff;
    padding: 0.75rem 1.5rem; border-radius: 10px;
    font-size: 0.87rem; font-weight: 500;
    box-shadow: 0 8px 24px rgba(0,0,0,0.22);
    z-index: 9999; transition: transform 0.32s cubic-bezier(.34,1.56,.64,1);
    white-space: nowrap; max-width: calc(100vw - 3rem);
    text-align: center; pointer-events: none;
  }
  .toast.show { transform: translateX(-50%) translateY(0); }

  /* ‚îÄ‚îÄ INFO CARDS ‚îÄ‚îÄ */
  .info-card { background: var(--card); border: 1px solid var(--border); border-radius: 18px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 2px 12px rgba(0,0,0,0.05); }
  .info-card h3 { font-family: 'DM Serif Display', serif; font-size: 1.25rem; color: #111; margin-bottom: 0.6rem; }
  .info-card > p { font-size: 0.85rem; color: #444; line-height: 1.7; margin-bottom: 1rem; }
  .hero-intro { background: linear-gradient(135deg, #f0f7ff 0%, #f5f0ff 100%); border: 1px solid #dde0ef; border-radius: 18px; padding: 2.2rem; margin-bottom: 1.5rem; text-align: center; box-shadow: 0 2px 12px rgba(0,0,0,0.06); }
  .hero-intro .brain-icon { font-size: 2.4rem; margin-bottom: 0.8rem; }
  .hero-intro h2 { font-family: 'DM Serif Display', serif; font-size: 1.55rem; color: #111; margin-bottom: 0.75rem; line-height: 1.3; }
  .hero-intro p { font-size: 0.93rem; color: #333; line-height: 1.75; max-width: 560px; margin: 0 auto; }

  .use-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.8rem; margin-top: 0.5rem; }
  .use-item { display: flex; gap: 0.75rem; align-items: flex-start; padding: 0.9rem; border-radius: 10px; }
  .use-icon { font-size: 1.3rem; flex-shrink: 0; margin-top: 1px; }
  .use-item strong { font-size: 0.88rem; display: block; margin-bottom: 0.25rem; }
  .use-item p { font-size: 0.79rem; color: #444; line-height: 1.5; margin: 0; }

  .quadrant-explain { display: grid; grid-template-columns: 1fr 1fr; gap: 0.8rem; margin-top: 1.2rem; }
  .qe-item { display: flex; align-items: flex-start; gap: 0.7rem; padding: 0.85rem; border-radius: 10px; }
  .qe-icon { width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1rem; flex-shrink: 0; }
  .qe-item p { font-size: 0.79rem; color: #333; line-height: 1.45; margin-top: 2px; }
  .qe-item strong { font-size: 0.86rem; display: block; margin-bottom: 3px; }

  .steps-list { display: flex; flex-direction: column; gap: 0.75rem; }
  .step-item { display: flex; gap: 0.8rem; align-items: flex-start; }
  .step-num { width: 28px; height: 28px; border-radius: 50%; background: var(--A); color: #fff; font-weight: 700; font-size: 0.82rem; display: flex; align-items: center; justify-content: center; flex-shrink: 0; margin-top: 1px; }
  .step-item p { font-size: 0.88rem; color: #333; line-height: 1.55; }

  .compliance-banner { background: rgba(240,208,96,0.07); border: 1px solid rgba(200,150,10,0.25); border-radius: 12px; padding: 0.9rem 1.2rem; margin-bottom: 1.5rem; display: flex; gap: 0.8rem; align-items: flex-start; }
  .privacy-note { background: rgba(26,158,110,0.06); border: 1px solid rgba(26,158,110,0.2); border-radius: 12px; padding: 0.9rem 1.2rem; margin-bottom: 1.5rem; display: flex; gap: 0.8rem; align-items: flex-start; }
  .banner-icon { font-size: 1.1rem; flex-shrink: 0; margin-top: 2px; }
  .compliance-banner p, .privacy-note p { font-size: 0.82rem; color: #333; line-height: 1.6; }

  .consent-block { background: var(--card); border: 1.5px solid var(--border); border-radius: 12px; padding: 1.1rem 1.4rem; margin-bottom: 1.5rem; display: flex; gap: 1rem; align-items: flex-start; cursor: pointer; transition: border-color 0.2s, background 0.2s; user-select: none; }
  .consent-block:hover { border-color: var(--accent); }
  .consent-block.checked { border-color: var(--B); background: rgba(26,158,110,0.04); }
  .consent-checkbox { width: 22px; height: 22px; min-width: 22px; border-radius: 6px; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; transition: all 0.2s; background: var(--surface); margin-top: 1px; color: #fff; }
  .consent-block.checked .consent-checkbox { background: var(--B); border-color: var(--B); }
  .consent-text { font-size: 0.84rem; color: #333; line-height: 1.6; }

  /* ‚îÄ‚îÄ RESULTS ‚îÄ‚îÄ */
  #results { display: none; }
  .results-header { text-align: center; margin-bottom: 2.5rem; }
  .results-header h2 { font-family: 'DM Serif Display', serif; font-size: clamp(1.8rem, 4vw, 2.4rem); margin-bottom: 0.5rem; }
  .results-header p { font-size: 0.88rem; color: var(--muted); max-width: 520px; margin: 0 auto; line-height: 1.6; }

  .score-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.9rem; margin-bottom: 2.5rem; }
  .score-card { background: var(--card); border-radius: 14px; padding: 1.2rem 1.4rem; border: 1px solid var(--border); transition: box-shadow 0.2s; }
  .score-card:hover { box-shadow: 0 4px 16px rgba(0,0,0,0.08); }
  .score-card-top { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 0.6rem; gap: 0.5rem; }
  .score-label { display: flex; align-items: center; gap: 0.55rem; font-weight: 600; font-size: 0.92rem; line-height: 1.3; }
  .score-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; margin-top: 2px; }
  .score-value { font-family: 'DM Serif Display', serif; font-size: 1.9rem; line-height: 1; flex-shrink: 0; }
  .score-level { font-size: 0.72rem; font-weight: 600; margin-top: 0.25rem; padding: 0.15rem 0.5rem; border-radius: 4px; display: inline-block; border: 1px solid; }
  .score-bar-bg { height: 5px; border-radius: 99px; background: var(--border); margin-top: 0.7rem; overflow: hidden; }
  .score-bar-fill { height: 100%; border-radius: 99px; transition: width 1s cubic-bezier(.4,0,.2,1); }

  .spider-section { background: var(--card); border: 1px solid var(--border); border-radius: 18px; padding: 1.8rem; margin-bottom: 2.5rem; display: flex; flex-direction: column; align-items: center; box-shadow: 0 2px 12px rgba(0,0,0,0.06); }
  .spider-title { font-family: 'DM Serif Display', serif; font-size: 1.2rem; margin-bottom: 0.2rem; align-self: flex-start; }
  .spider-subtitle { font-size: 0.78rem; color: var(--muted); margin-bottom: 1.4rem; align-self: flex-start; line-height: 1.5; }
  #spiderCanvas { max-width: 440px; width: 100%; height: auto; display: block; }

  .quadrant-map-wrapper { background: var(--card); border: 1px solid var(--border); border-radius: 18px; padding: 1.5rem; margin-bottom: 2.5rem; box-shadow: 0 2px 12px rgba(0,0,0,0.06); }
  .quadrant-map-title { font-family: 'DM Serif Display', serif; font-size: 1.2rem; margin-bottom: 0.2rem; }
  .quadrant-map-subtitle { font-size: 0.78rem; color: var(--muted); margin-bottom: 1rem; line-height: 1.5; }
  .hbdi-axis-label { text-align: center; font-size: 0.68rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.07em; color: var(--muted); margin: 0.35rem 0; }
  .quadrant-map { display: grid; grid-template-columns: 1fr 1fr; gap: 3px; border-radius: 12px; overflow: hidden; }
  .quadrant-box { padding: 1.2rem; position: relative; min-height: 120px; }
  .qbox-label { font-size: 0.68rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 0.25rem; opacity: 0.8; }
  .qbox-name { font-family: 'DM Serif Display', serif; font-size: 0.98rem; margin-bottom: 0.35rem; }
  .qbox-traits { font-size: 0.74rem; line-height: 1.5; color: #444; }
  .qbox-score { position: absolute; top: 0.85rem; right: 0.9rem; font-family: 'DM Serif Display', serif; font-size: 1.5rem; opacity: 0.9; }

  .profile-section { background: var(--card); border: 1px solid var(--border); border-radius: 18px; padding: 1.8rem; margin-bottom: 2.5rem; box-shadow: 0 2px 12px rgba(0,0,0,0.06); }
  .profile-title { font-family: 'DM Serif Display', serif; font-size: 1.3rem; margin-bottom: 1rem; }
  .pref-order-box { background: #f8f9fc; border: 1px solid var(--border); border-radius: 10px; padding: 1rem 1.2rem; margin-bottom: 1.2rem; }
  .pref-order-label { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; color: #888; margin-bottom: 0.5rem; }
  .pref-order-badges { display: flex; gap: 0.4rem; align-items: center; flex-wrap: wrap; }
  .whole-brain-note { background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 10px; padding: 0.85rem 1.1rem; margin-bottom: 1.3rem; font-size: 0.82rem; color: #1e40af; line-height: 1.6; }
  .profile-quad-card { border-radius: 12px; padding: 1.3rem; margin-bottom: 1rem; border: 1px solid var(--border); border-left: 4px solid; box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
  .pqc-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 0.85rem; flex-wrap: wrap; gap: 0.5rem; }
  .pqc-title-group { display: flex; align-items: center; gap: 0.65rem; }
  .pqc-badge { width: 36px; height: 36px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.1rem; color: #fff; flex-shrink: 0; }
  .pqc-rank { font-size: 0.74rem; font-weight: 600; margin-top: 2px; }
  .pqc-score { font-family: 'DM Serif Display', serif; font-size: 2rem; line-height: 1; }
  .pqc-tags { display: flex; flex-wrap: wrap; gap: 0.35rem; margin-bottom: 0.75rem; }
  .pqc-tag { padding: 0.18rem 0.55rem; border-radius: 5px; font-size: 0.74rem; font-weight: 600; border: 1px solid; }
  .pqc-tag-work { padding: 0.18rem 0.55rem; border-radius: 5px; font-size: 0.74rem; background: #f5f5f5; color: #444; border: 1px solid #e0e0e0; }
  .pqc-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.65rem; margin-top: 0.8rem; }
  .pqc-item { border-radius: 8px; padding: 0.8rem; }
  .pqc-item-label { font-size: 0.67rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.07em; color: #888; margin-bottom: 0.3rem; }
  .pqc-item-text { font-size: 0.81rem; color: #111; line-height: 1.6; }
  .pqc-career { margin-top: 0.65rem; padding: 0.55rem 0.8rem; background: #f5f5f5; border-radius: 7px; }
  .pqc-career-label { font-size: 0.67rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.07em; color: #888; }
  .pqc-career-text { font-size: 0.79rem; color: #333; margin-top: 0.15rem; line-height: 1.5; }

  .result-actions { display: flex; gap: 1rem; margin-top: 1.5rem; }
  .result-actions button { flex: 1; padding: 0.9rem 1rem; border-radius: 12px; border: none; font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 0.95rem; cursor: pointer; transition: opacity 0.2s, transform 0.15s; }
  .result-actions button:hover { opacity: 0.88; transform: translateY(-1px); }
  .disclaimer-box { margin-top: 2rem; padding: 1.1rem 1.3rem; background: var(--card); border: 1px solid var(--border); border-radius: 12px; }
  .disclaimer-box p { font-size: 0.77rem; color: var(--muted); line-height: 1.7; text-align: center; }

  /* ‚îÄ‚îÄ PRINT ‚îÄ‚îÄ */
  .print-header { display: none; }
  @media print {
    * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
    body { background: #fff !important; }
    body::before { display: none; }
    .container { max-width: 100%; padding: 0; }
    .logo-bar, .sticky-progress { display: none !important; }
    #intro, #assessment { display: none !important; }
    #results { display: block !important; }
    .result-actions { display: none !important; }
    header { display: none; }
    .print-header { display: flex !important; align-items: center; justify-content: space-between; border-bottom: 3px solid #2680c2; padding-bottom: 0.8rem; margin-bottom: 1.5rem; }
    .print-header h1 { font-size: 18pt; color: #111; }
    .score-grid { grid-template-columns: 1fr 1fr 1fr 1fr !important; gap: 0.5rem; margin-bottom: 1rem; }
    .score-card { padding: 0.6rem 0.8rem !important; box-shadow: none !important; }
    .score-value { font-size: 1.4rem !important; }
    .spider-section { padding: 1rem !important; margin-bottom: 1rem !important; page-break-inside: avoid; box-shadow: none !important; }
    #spiderCanvas { max-width: 280px !important; }
    .quadrant-map-wrapper { page-break-inside: avoid; margin-bottom: 1rem !important; }
    .profile-section { page-break-before: always; box-shadow: none !important; }
    .profile-quad-card { page-break-inside: avoid; }
    .fade-in { animation: none !important; }
  }

  /* ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ */
  .fade-in { animation: fadeInUp 0.4s ease forwards; }
  @keyframes fadeInUp { from { opacity: 0; transform: translateY(14px); } to { opacity: 1; transform: translateY(0); } }

  /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
  @media (max-width: 620px) {
    .container { padding: 1rem 1rem 5rem; }
    header { padding-top: 1rem; margin-bottom: 1.5rem; }
    .use-grid, .quadrant-explain, .score-grid, .pqc-grid { grid-template-columns: 1fr; }
    .result-actions { flex-direction: column; }
    .btn-row { gap: 0.6rem; }
    .btn { padding: 0.75rem 1.2rem; font-size: 0.9rem; }
    .likert label { padding: 0.55rem 0.1rem; font-size: 0.88rem; }
    header h1 { font-size: 1.9rem; }
    .quadrant-box { padding: 1rem; min-height: 100px; }
    .hero-intro, .info-card { padding: 1.4rem; }
    .sticky-progress { top: 80px; }
  }
  @media (max-width: 380px) { .likert { gap: 3px; } }
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LOGO BAR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="logo-bar">
  <a href="https://www.faeh-consulting.ch" target="_blank" rel="noopener noreferrer" title="Zur√ºck zur Homepage ‚Äì F√§h Consulting">
    <img src="https://faeh-consulting.ch/uploads/1/3/1/1/131126978/logo300x235-neu.png"
         alt="F√§h Consulting"
         onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
    <span style="display:none;align-items:center;font-weight:700;font-size:0.9rem;color:#1a1c2a;">F√§h Consulting</span>
  </a>
</div>

<div class="container">

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <header>
    <div class="quadrant-badges">
      <div class="qb qb-A">A</div>
      <div class="qb qb-B">B</div>
      <div class="qb qb-C">C</div>
      <div class="qb qb-D">D</div>
    </div>
    <h1>Denkstil-<br><em>Assessment</em></h1>
    <p>Entdecke deinen bevorzugten Denkstil anhand des 4-Quadranten-Modells ‚Äì inspiriert von Ned Herrmanns Gehirnforschung.</p>
  </header>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INTRO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="intro" class="fade-in">

    <!-- Rechtlicher Hinweis -->
    <div style="background:#fff7ed;border:2px solid #f97316;border-radius:14px;padding:1.2rem 1.4rem;margin-bottom:1.5rem;display:flex;gap:0.9rem;align-items:flex-start;">
      <div style="font-size:1.3rem;flex-shrink:0;margin-top:1px;">‚öñÔ∏è</div>
      <div style="font-size:0.82rem;color:#7c2d12;line-height:1.7;">
        <strong style="font-size:0.9rem;display:block;margin-bottom:0.3rem;color:#9a3412;">Rechtlicher Hinweis</strong>
        Dieses Tool ist eine <strong>vollst√§ndig eigenst√§ndige, unabh√§ngige Anwendung</strong> und steht in <strong>keinerlei Verbindung zu Herrmann International</strong> oder dem offiziellen HBDI¬Æ-Verfahren. Es handelt sich um <strong>kein lizenziertes oder autorisiertes Assessment</strong>. Das 4-Quadranten-Denkmodell basiert auf den wissenschaftlichen Arbeiten von Ned Herrmann (1976) und ist als allgemeines Konzept in der Fachliteratur beschrieben. <strong>HBDI¬Æ</strong> ist eine eingetragene Marke der Herrmann Global LLC.
      </div>
    </div>

    <div class="hero-intro">
      <div class="brain-icon">üß†</div>
      <h2>Warum denken wir so verschieden?</h2>
      <p>Jeder Mensch hat einen einzigartigen Denkstil. Manche l√∂sen Probleme mit Zahlen und Logik, andere mit Gesp√ºr und Intuition ‚Äì manche planen akribisch, andere denken in gro√üen Visionen. Keiner dieser Stile ist besser oder schlechter. Sie sind einfach <strong>verschieden</strong> ‚Äì und das Wissen dar√ºber ver√§ndert alles.</p>
    </div>

    <div class="info-card">
      <h3>Wof√ºr kannst du dieses Assessment nutzen?</h3>
      <div class="use-grid">
        <div class="use-item" style="background:#f0f7ff;"><div class="use-icon">üë§</div><div><strong style="color:var(--A);">Selbsterkenntnis</strong><p>Verstehe, wie du bevorzugt denkst, lernst und Entscheidungen triffst.</p></div></div>
        <div class="use-item" style="background:#f0fff8;"><div class="use-icon">ü§ù</div><div><strong style="color:var(--B);">Teamdynamik verbessern</strong><p>Verstehe, warum Kollegen anders reagieren, und nutze Vielfalt als St√§rke.</p></div></div>
        <div class="use-item" style="background:#fff8f0;"><div class="use-icon">üéØ</div><div><strong style="color:var(--C);">Karriere &amp; Berufswahl</strong><p>Finde heraus, welche Rollen am besten zu deinem Denkstil passen.</p></div></div>
        <div class="use-item" style="background:#f8f0ff;"><div class="use-icon">üí¨</div><div><strong style="color:var(--D);">Kommunikation anpassen</strong><p>Lerne, wie du andere Denkstile gezielt ansprechen und √ºberzeugen kannst.</p></div></div>
        <div class="use-item" style="background:#f0f7ff;"><div class="use-icon">üè´</div><div><strong style="color:var(--A);">Lernen &amp; Weiterbildung</strong><p>Entdecke, wie du am effektivsten lernst ‚Äì durch Fakten, Austausch oder kreatives Ausprobieren.</p></div></div>
        <div class="use-item" style="background:#f0fff8;"><div class="use-icon">üß©</div><div><strong style="color:var(--B);">F√ºhrung &amp; Coaching</strong><p>Erkenne, wie du Mitarbeitende mit unterschiedlichen Denkstilen motivierst und einsetzt.</p></div></div>
      </div>
    </div>

    <div class="info-card">
      <h3>Das 4-Quadranten-Modell</h3>
      <p>Entwickelt von <strong>Ned Herrmann</strong> in den 1970er-Jahren basiert das Modell auf Erkenntnissen der Hirnforschung. Es beschreibt vier Denkpr√§ferenzen ‚Äì jeder Mensch nutzt alle vier, hat aber individuelle Vorlieben. Die St√§rke liegt im Konzept des <strong>Whole Brain Thinking</strong>: das bewusste Nutzen aller Quadranten je nach Situation.</p>
      <div class="quadrant-explain">
        <div class="qe-item" style="background:rgba(38,128,194,0.07);"><div class="qe-icon" style="background:rgba(38,128,194,0.15);color:var(--A);">üî¨</div><div><strong style="color:var(--A);">A ‚Äì Analytisch (oben links)</strong><p>Logisch, faktenbasiert, quantitativ, technisch, rational ¬∑ zerebrales linkes Denken</p></div></div>
        <div class="qe-item" style="background:rgba(144,48,192,0.07);"><div class="qe-icon" style="background:rgba(144,48,192,0.15);color:var(--D);">üí°</div><div><strong style="color:var(--D);">D ‚Äì Kreativ (oben rechts)</strong><p>Ganzheitlich, intuitiv, innovativ, zukunftsorientiert, vision√§r ¬∑ zerebrales rechtes Denken</p></div></div>
        <div class="qe-item" style="background:rgba(26,158,110,0.07);"><div class="qe-icon" style="background:rgba(26,158,110,0.15);color:var(--B);">üìã</div><div><strong style="color:var(--B);">B ‚Äì Organisiert (unten links)</strong><p>Strukturiert, sequenziell, detailorientiert, geplant, zuverl√§ssig ¬∑ limbisches linkes Denken</p></div></div>
        <div class="qe-item" style="background:rgba(196,90,32,0.07);"><div class="qe-icon" style="background:rgba(196,90,32,0.15);color:var(--C);">ü§ù</div><div><strong style="color:var(--C);">C ‚Äì Sozial (unten rechts)</strong><p>Kommunikativ, empathisch, teamorientiert, interpersonal ¬∑ limbisches rechtes Denken</p></div></div>
      </div>
    </div>

    <div class="info-card">
      <h3>So funktioniert das Assessment</h3>
      <div class="steps-list">
        <div class="step-item"><div class="step-num">1</div><p><strong>40 Aussagen</strong> ‚Äì beantworte jede auf einer Skala von 1 (trifft gar nicht zu) bis 5 (trifft voll zu)</p></div>
        <div class="step-item"><div class="step-num">2</div><p><strong>Antworte intuitiv</strong> ‚Äì es gibt keine richtigen oder falschen Antworten, denke nicht zu lange nach</p></div>
        <div class="step-item"><div class="step-num">3</div><p><strong>Dauer ca. 10‚Äì15 Minuten</strong> ‚Äì am Ende erh√§ltst du ein ausf√ºhrliches Profil mit Spinnendiagramm als PDF</p></div>
        <div class="step-item"><div class="step-num" style="background:var(--B);">4</div><p><strong>Tipp:</strong> Tasten <strong>1‚Äì5</strong> zum Antworten, <strong>‚Üí</strong> zur n√§chsten Seite, <strong>‚Üê</strong> zur√ºck</p></div>
      </div>
    </div>

    <div class="compliance-banner">
      <div class="banner-icon">‚ö†Ô∏è</div>
      <p><strong>Hinweis:</strong> Dieses Tool ist ein <strong>informelles Selbstreflexions-Instrument</strong> und keine offizielle Diagnose. Die Ergebnisse ersetzen keine professionelle Beratung. HBDI¬Æ ist eine eingetragene Marke der Herrmann Global LLC ‚Äì dieses Tool ist eine eigenst√§ndige, unabh√§ngige Umsetzung ohne Verbindung dazu.</p>
    </div>

    <div class="privacy-note">
      <div class="banner-icon">üîí</div>
      <p><strong style="color:var(--B)">Datenschutz:</strong> Dieses Assessment l√§uft vollst√§ndig in deinem Browser. Es werden <strong style="color:var(--B)">keine Daten gespeichert, √ºbertragen oder verarbeitet</strong>. Deine Antworten verlassen deinen Computer zu keiner Zeit.</p>
    </div>

    <div class="consent-block" id="consentBlock" onclick="toggleConsent()">
      <div class="consent-checkbox" id="consentVisual"></div>
      <div class="consent-text">
        <strong>Ich habe die Hinweise gelesen und verstanden.</strong><br>
        Mir ist bewusst, dass dieses Tool zur Selbstreflexion dient und keine professionelle Diagnose ersetzt. Ich bin damit einverstanden, dass meine Antworten ausschlie√ülich lokal in meinem Browser verarbeitet werden.
      </div>
    </div>

    <div class="btn-row" style="justify-content:center;">
      <button class="btn btn-primary" id="startBtn" onclick="startAssessment()" disabled style="padding:1rem 3rem;font-size:1rem;">Assessment starten ‚Üí</button>
    </div>

    <p style="text-align:center;font-size:0.73rem;color:var(--muted);margin-top:1.5rem;line-height:1.6;">
      Eigenst√§ndige, unabh√§ngige Anwendung ‚Äì keine Verbindung zur Herrmann Global LLC oder dem offiziellen HBDI¬Æ-Verfahren.<br>
      HBDI¬Æ ist eine eingetragene Marke der Herrmann Global LLC. Basiert auf dem wissenschaftlichen Konzept von Ned Herrmann (1976).
    </p>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ASSESSMENT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="assessment" style="display:none;">
    <div class="sticky-progress">
      <div class="progress-meta">
        <span class="progress-label" id="progressLabel">Seite 1 von 5</span>
        <span class="progress-count" id="progressCount">0 / 40</span>
      </div>
      <div class="progress-bar-bg"><div class="progress-bar-fill" id="progressFill" style="width:0%"></div></div>
    </div>
    <div class="section-nav" id="sectionNav"></div>
    <div id="questionSection" class="fade-in"></div>
    <div class="btn-row">
      <button class="btn btn-secondary" id="btnPrev" onclick="prevSection()">‚Üê Zur√ºck</button>
      <button class="btn btn-primary" id="btnNext" onclick="nextSection()">Weiter ‚Üí</button>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RESULTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="results" class="fade-in">
    <div class="print-header" id="printHeader">
      <div>
        <div style="font-size:9pt;color:#888;text-transform:uppercase;letter-spacing:0.08em;margin-bottom:2px;">Denkstil-Assessment ¬∑ F√§h Consulting</div>
        <h1 style="font-family:'DM Serif Display',serif;font-size:20pt;color:#111;margin:0;">Pers√∂nliches Denkstil-Profil</h1>
      </div>
      <div id="printDate" style="text-align:right;font-size:9pt;color:#666;"></div>
    </div>

    <div class="results-header">
      <p style="color:var(--muted);font-size:0.8rem;text-transform:uppercase;letter-spacing:0.1em;margin-bottom:0.5rem;">Dein Ergebnis</p>
      <h2>Dein Denkstil-Profil</h2>
      <p>Alle vier Quadranten werden bewertet ‚Äì deine Pr√§ferenzen zeigen, welche Denkstile dir besonders leichtfallen und wo Entwicklungspotenzial liegt.</p>
    </div>

    <div class="score-grid" id="scoreGrid"></div>

    <div class="spider-section">
      <div class="spider-title">Denkstil-Spinnendiagramm</div>
      <div class="spider-subtitle">Je gr√∂sser die Fl√§che, desto st√§rker die Pr√§ferenz</div>
      <canvas id="spiderCanvas" width="440" height="440"></canvas>
    </div>

    <div class="quadrant-map-wrapper">
      <div class="quadrant-map-title">4-Quadranten-Modell</div>
      <div class="quadrant-map-subtitle">Layout des 4-Quadranten-Denkmodells ‚Äì A oben links (analytisch), D oben rechts (kreativ), B unten links (organisiert), C unten rechts (sozial)</div>
      <div class="hbdi-axis-label">‚¨Ü Zerebrales Denken (rational &amp; konzeptuell)</div>
      <div class="quadrant-map" id="quadrantMap"></div>
      <div class="hbdi-axis-label">‚¨á Limbisches Denken (strukturell &amp; interpersonal)</div>
    </div>

    <div class="profile-section" id="profileSection"></div>

    <div class="result-actions">
      <button onclick="restart()" style="background:#f0f4ff;color:#1a1c2a;">üîÑ Neu starten</button>
      <button onclick="printResults()" style="background:var(--A);color:#fff;box-shadow:0 4px 12px rgba(38,128,194,0.3);">üñ®Ô∏è Als PDF speichern</button>
    </div>

    <div class="disclaimer-box">
      <p>‚ö†Ô∏è <strong style="color:var(--text)">Hinweis:</strong> Dieses Ergebnis dient ausschlie√ülich zur pers√∂nlichen Selbstreflexion. Kein zertifiziertes psychologisches Testverfahren, kein Ersatz f√ºr professionelle Beratung. Alle Daten wurden lokal in deinem Browser verarbeitet.<br><br>
      Eigenst√§ndige, unabh√§ngige Anwendung ‚Äì keine Verbindung zur Herrmann Global LLC oder dem offiziellen HBDI¬Æ-Verfahren. HBDI¬Æ ist eine eingetragene Marke der Herrmann Global LLC. Basiert auf dem wissenschaftlichen Konzept von Ned Herrmann (1976).</p>
    </div>
  </div>

</div>
<div class="toast" id="toast"></div>

<script>
let consentGiven = false;
function toggleConsent() {
  consentGiven = !consentGiven;
  document.getElementById('consentBlock').classList.toggle('checked', consentGiven);
  document.getElementById('consentVisual').textContent = consentGiven ? '‚úì' : '';
  document.getElementById('startBtn').disabled = !consentGiven;
}

let _toastT;
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg; t.classList.add('show');
  clearTimeout(_toastT);
  _toastT = setTimeout(() => t.classList.remove('show'), 3200);
}

const sections = [
  { id:'A', name:'Analytisches Denken', color:'#2680c2', icon:'üî¨', questions:[
    'Ich l√∂se Probleme bevorzugt durch logische Analyse und faktenbasiertes Denken.',
    'Ich verlasse mich beim Entscheiden haupts√§chlich auf Daten und Zahlen.',
    'Mathematische oder technische Aufgaben liegen mir gut.',
    'Ich sch√§tze Objektivit√§t und vermeide es, Entscheidungen von Emotionen leiten zu lassen.',
    'Ich besch√§ftige mich gerne mit komplexen theoretischen Fragestellungen.',
    'Ich √ºberpr√ºfe Argumente kritisch, bevor ich ihnen zustimme.',
    'Beim Lernen bevorzuge ich logische, systematische Erkl√§rungen.',
    'Ich finde Freude daran, abstrakte Konzepte durchzudenken.',
    'In Diskussionen argumentiere ich vorrangig mit Fakten und Beweisen.',
    'Ich bevorzuge Aufgaben, bei denen ich Hypothesen aufstellen und testen kann.',
  ]},
  { id:'B', name:'Organisiertes Denken', color:'#1a9e6e', icon:'üìã', questions:[
    'Ich plane meine Arbeit detailliert und halte mich an Strukturen und Pl√§ne.',
    'Ich bevorzuge klare Regeln, Verfahren und Standards.',
    'Ich mag es, Aufgaben Schritt f√ºr Schritt in einer festgelegten Reihenfolge abzuarbeiten.',
    'Ordnung und Sauberkeit sind mir bei der Arbeit sehr wichtig.',
    'Ich beachte Details und stelle sicher, dass keine Fehler auftreten.',
    'Ich erledige Aufgaben p√ºnktlich und halte Fristen konsequent ein.',
    'Ich f√ºhle mich unwohl, wenn Pl√§ne spontan ge√§ndert werden.',
    'Ich verwalte gerne Informationen in geordneten Listen oder Dateisystemen.',
    'Zuverl√§ssigkeit und Best√§ndigkeit sind f√ºr mich wichtige Werte bei der Arbeit.',
    'Ich dokumentiere meine Arbeitsprozesse sorgf√§ltig.',
  ]},
  { id:'C', name:'Soziales Denken', color:'#c45a20', icon:'ü§ù', questions:[
    'Im Team zu arbeiten macht mir deutlich mehr Spa√ü als alleine zu arbeiten.',
    'Ich achte sehr auf die Gef√ºhle und Bed√ºrfnisse anderer Menschen.',
    'Ich kommuniziere offen und spreche auch pers√∂nliche Themen an.',
    'Ich bin h√§ufig derjenige, der Konflikte im Team vermittelt und l√∂st.',
    'Feedback und Wertsch√§tzung aus meinem Umfeld sind mir sehr wichtig.',
    'Ich lerne am besten durch Austausch und Gespr√§che mit anderen.',
    'Mir liegt das Wohlbefinden meiner Kollegen oder Mitmenschen am Herzen.',
    'Ich bevorzuge kooperative L√∂sungsans√§tze gegen√ºber Konkurrenz.',
    'Ich engagiere mich gerne in sozialen Projekten oder Gemeinschaftsaktivit√§ten.',
    'Pers√∂nliche Beziehungen spielen bei meinen beruflichen Entscheidungen eine gro√üe Rolle.',
  ]},
  { id:'D', name:'Kreatives Denken', color:'#9030c0', icon:'üí°', questions:[
    'Ich denke oft in Bildern, Metaphern oder ganzheitlichen Konzepten.',
    'Neue und ungew√∂hnliche Ideen faszinieren mich mehr als bew√§hrte Methoden.',
    'Ich verlasse mich h√§ufig auf meine Intuition, wenn ich Entscheidungen treffe.',
    'Ich sehe Probleme eher als Chancen und M√∂glichkeiten zur Ver√§nderung.',
    'Ich bin offen f√ºr Risiken, wenn ich an eine neue Idee glaube.',
    'Brainstorming und kreatives Explorieren bereiten mir viel Freude.',
    'Ich sehe Zusammenh√§nge zwischen scheinbar unverbundenen Dingen.',
    'Mich interessiert die Zukunft und wie Dinge sein k√∂nnten, nicht nur wie sie sind.',
    'Ich breche gerne aus gewohnten Denkmustern aus.',
    'K√ºnstlerischer oder gestalterischer Ausdruck liegt mir.',
  ]},
];

const allQuestions = [];
sections.forEach((sec,si) => sec.questions.forEach((q,qi) => allQuestions.push({text:q,si,qi,key:`${si}_${qi}`})));

function seededShuffle(arr) {
  const a=[...arr]; let seed=42;
  function rand(){seed=(seed*1664525+1013904223)&0xffffffff;return(seed>>>0)/0xffffffff;}
  for(let i=a.length-1;i>0;i--){const j=Math.floor(rand()*(i+1));[a[i],a[j]]=[a[j],a[i]];}
  return a;
}
const shuffledQuestions = seededShuffle(allQuestions);
const PAGE_SIZE=8, totalPages=Math.ceil(shuffledQuestions.length/PAGE_SIZE);
let answers={}, currentPage=0;

function getPreferenceLevel(pct) {
  if(pct>=80) return{level:4,label:'Sehr stark',       color:'#15803d',bg:'#f0fdf4',border:'#86efac'};
  if(pct>=60) return{level:3,label:'Stark (prim√§r)',   color:'#1d4ed8',bg:'#eff6ff',border:'#93c5fd'};
  if(pct>=40) return{level:2,label:'Sekund√§r',         color:'#b45309',bg:'#fefce8',border:'#fcd34d'};
  return            {level:1,label:'Geringe Pr√§ferenz',color:'#b91c1c',bg:'#fef2f2',border:'#fca5a5'};
}

function startAssessment(){
  document.getElementById('intro').style.display='none';
  document.getElementById('assessment').style.display='block';
  buildNav(); renderPage(); scrollToTop();
}

function buildNav(){
  document.getElementById('sectionNav').innerHTML=
    Array.from({length:totalPages},(_,i)=>`<div class="nav-dot" id="dot-${i}" title="Seite ${i+1}" onclick="jumpToPage(${i})"></div>`).join('');
}

function jumpToPage(page){
  if(page<=currentPage||isPageDone(currentPage)){currentPage=page;renderPage();scrollToTop();}
}

function updateNav(){
  for(let i=0;i<totalPages;i++){
    const d=document.getElementById(`dot-${i}`);
    if(d) d.className='nav-dot'+(i===currentPage?' active':isPageDone(i)?' done':'');
  }
}

function isPageDone(page){
  const start=page*PAGE_SIZE,end=Math.min(start+PAGE_SIZE,shuffledQuestions.length);
  for(let i=start;i<end;i++) if(answers[shuffledQuestions[i].key]===undefined) return false;
  return true;
}

function renderPage(){
  const totalQ=shuffledQuestions.length,answeredQ=Object.keys(answers).length,isLast=currentPage===totalPages-1;
  document.getElementById('progressCount').textContent=`${answeredQ} / ${totalQ}`;
  document.getElementById('progressLabel').textContent=`Seite ${currentPage+1} von ${totalPages}`;
  document.getElementById('progressFill').style.width=`${(answeredQ/totalQ)*100}%`;
  document.getElementById('btnPrev').style.visibility=currentPage===0?'hidden':'visible';
  document.getElementById('btnNext').textContent=isLast?'Auswertung anzeigen ‚Üí':'Weiter ‚Üí';
  const start=currentPage*PAGE_SIZE,end=Math.min(start+PAGE_SIZE,shuffledQuestions.length);
  const container=document.getElementById('questionSection');
  container.classList.remove('fade-in'); void container.offsetWidth; container.classList.add('fade-in');
  container.innerHTML=`
    <div class="section-header">
      <div class="section-badge" style="background:#f0f4ff;color:#555;border:1px solid #dde0ef;">Seite ${currentPage+1} / ${totalPages}</div>
      <div class="section-title">Beantworte spontan und intuitiv</div>
    </div>
    ${shuffledQuestions.slice(start,end).map((q,idx)=>`
      <div class="question-card${answers[q.key]!==undefined?' answered':''}" id="qcard-${q.key}">
        <div class="q-num">Frage ${start+idx+1} von ${totalQ}</div>
        <div class="question-text">${q.text}</div>
        <div class="likert">
          ${[1,2,3,4,5].map((v,li)=>`
            <input type="radio" name="q_${q.key}" id="r_${q.key}_${li}" value="${v}"
              ${answers[q.key]===v?'checked':''}
              onchange="recordAnswer('${q.key}',${v})">
            <label for="r_${q.key}_${li}" title="${['Trifft gar nicht zu','Trifft wenig zu','Teils/teils','Trifft √ºberwiegend zu','Trifft voll zu'][li]}">${v}</label>
          `).join('')}
        </div>
        <div class="likert-labels"><span>Trifft gar nicht zu</span><span>Trifft voll zu</span></div>
      </div>
    `).join('')}`;
  updateNav();
}

function recordAnswer(key,val){
  answers[key]=val;
  const aq=Object.keys(answers).length,tq=shuffledQuestions.length;
  document.getElementById('progressCount').textContent=`${aq} / ${tq}`;
  document.getElementById('progressFill').style.width=`${(aq/tq)*100}%`;
  const card=document.getElementById(`qcard-${key}`);
  if(card) card.classList.add('answered');
  updateNav();
}

function scrollToTop(){
  try{window.scrollTo({top:0,behavior:'smooth'});}catch(e){}
  setTimeout(()=>{try{window.scrollTo(0,0);}catch(e){}try{window.parent.scrollTo(0,0);}catch(e){}},60);
}

function nextSection(){
  if(!isPageDone(currentPage)){
    const start=currentPage*PAGE_SIZE,end=Math.min(start+PAGE_SIZE,shuffledQuestions.length);
    for(let i=start;i<end;i++){
      const q=shuffledQuestions[i];
      if(answers[q.key]===undefined){
        const card=document.getElementById(`qcard-${q.key}`);
        if(card){card.scrollIntoView({behavior:'smooth',block:'center'});card.classList.add('highlight');setTimeout(()=>card.classList.remove('highlight'),2200);}
        break;
      }
    }
    showToast('‚ö†Ô∏è Bitte beantworte alle Fragen auf dieser Seite.');
    return;
  }
  if(currentPage<totalPages-1){currentPage++;renderPage();scrollToTop();}
  else{showResults();scrollToTop();}
}

function prevSection(){if(currentPage>0){currentPage--;renderPage();scrollToTop();}}

document.addEventListener('keydown',function(e){
  if(document.getElementById('assessment').style.display==='none') return;
  const num=parseInt(e.key);
  if(num>=1&&num<=5&&!e.ctrlKey&&!e.metaKey){
    const start=currentPage*PAGE_SIZE,end=Math.min(start+PAGE_SIZE,shuffledQuestions.length);
    for(let i=start;i<end;i++){
      const q=shuffledQuestions[i];
      if(answers[q.key]===undefined){
        recordAnswer(q.key,num);
        const r=document.getElementById(`r_${q.key}_${num-1}`);
        if(r) r.checked=true;
        break;
      }
    }
  }
  if((e.key==='ArrowRight'||e.key==='Enter')&&!e.target.matches('button')){if(isPageDone(currentPage)) nextSection();}
  if(e.key==='ArrowLeft'&&!e.target.matches('button')) prevSection();
});

function computeScores(){
  return sections.map((sec,si)=>{
    const raw=sec.questions.reduce((sum,_,qi)=>sum+(answers[`${si}_${qi}`]||3),0);
    return{id:sec.id,name:sec.name,color:sec.color,icon:sec.icon,raw,pct:Math.round((raw/(sec.questions.length*5))*100)};
  });
}

const profiles={
  A:{label:'Der Analytiker',
     persoenlicheMerkmale:['Analytisch','Faktisch','Logisch','Mathematisch','Quantitativ','Rational','Kritisch'],
     arbeitsMerkmale:['Analytisch arbeiten','Probleme l√∂sen','Finanzielle Aspekte','Technische Aspekte'],
     lernstil:'Durch Fakten, Daten und logische Erkl√§rungen. Bevorzugt strukturierte Informationen und selbstst√§ndiges Durchdenken.',
     kommunikation:'Direkt, faktenbezogen und pr√§zise. Sch√§tzt Genauigkeit und erwartet gut begr√ºndete Argumente.',
     karriere:'Wissenschaft, IT, Ingenieurwesen, Finanzanalyse, Recht, Medizin, Forschung & Entwicklung, Datenanalyse',
     st√§rken:'Du denkst klar, logisch und faktenbasiert. Du liebst es, komplexe Probleme zu durchdringen und rationale Schlussfolgerungen zu ziehen.',
     arbeit:'Im Beruf gl√§nzt du bei analytischen Aufgaben und technischen Problemen. Du bevorzugst klare Evidenz und messbare Ergebnisse.',
     unterDruck:'Unter Druck neigst du dazu, noch analytischer zu werden. Du kannst dabei etwas distanzierter wirken.',
     entwicklung:'Bewusst mehr auf Intuition und zwischenmenschliche Aspekte achten. Der Austausch mit C-Typen bereichert dein Denken.'},
  B:{label:'Der Organisator',
     persoenlicheMerkmale:['Detailliert','Zuverl√§ssig','Konservativ','Kontrolliert','Sequenziell','Organisiert','P√ºnktlich'],
     arbeitsMerkmale:['Administrativ','Implementieren','Organisieren','Planen','Prozesse steuern'],
     lernstil:'Durch Schritt-f√ºr-Schritt-Anleitungen, klare Struktur und Wiederholung. Bevorzugt geordnetes Lernen mit klaren Zielen.',
     kommunikation:'Strukturiert, pr√§zise und verl√§sslich. Sch√§tzt klare Agenda und Follow-ups.',
     karriere:'Verwaltung, Projektmanagement, Buchhaltung, Logistik, Qualit√§tssicherung, Operations, Compliance, Controlling',
     st√§rken:'Du planst sorgf√§ltig, arbeitest strukturiert und h√§ltst dich an bew√§hrte Prozesse. Deine Verl√§sslichkeit macht dich unverzichtbar.',
     arbeit:'Du sorgst daf√ºr, dass Pl√§ne wirklich umgesetzt werden. Du verwaltest Prozesse und sorgst f√ºr Ordnung.',
     unterDruck:'Unter Druck wirst du noch strukturierter. Du kannst weniger flexibel wirken.',
     entwicklung:'Mehr Offenheit f√ºr neue Wege. Kreative Impulse aus dem D-Quadranten bereichern dein strukturiertes Denken.'},
  C:{label:'Der Kommunikator',
     persoenlicheMerkmale:['Empathisch','Kommunikativ','Teamorientiert','Verbal','Kooperativ','Einf√ºhlsam','Intuitiv'],
     arbeitsMerkmale:['Ideen ausdr√ºcken','Schreiben','Unterrichten / Training','Zwischenmenschliche Aspekte'],
     lernstil:'Durch Austausch, Diskussion und gemeinsames Erarbeiten. Bevorzugt Gruppenarbeit und pers√∂nliche Erfahrungen.',
     kommunikation:'Warm, offen und beziehungsorientiert. Sch√§tzt pers√∂nliches Gespr√§ch und aktives Zuh√∂ren.',
     karriere:'HR, Coaching, Sozialarbeit, Unterricht, Pflege, PR, Marketing, Kundenbetreuung, Mediation, Psychologie',
     st√§rken:'Du bist empathisch, kommunikativ und menschenorientiert. Du schaffst Vertrauen und bringst Menschen zusammen.',
     arbeit:'Du bist stark in der Kommunikation und allem, was mit Menschen und Beziehungen zu tun hat.',
     unterDruck:'Unter Druck suchst du sozialen R√ºckhalt. Die emotionale Komponente kann St√§rke und Herausforderung zugleich sein.',
     entwicklung:'Kombiniere deine sozialen F√§higkeiten mit analytischem Denken (A) f√ºr noch √ºberzeugendere Kommunikation.'},
  D:{label:'Der Vision√§r',
     persoenlicheMerkmale:['Ganzheitlich','Intuitiv','Kreativ','Innovativ','Risikofreudig','Vision√§r','Zukunftsorientiert'],
     arbeitsMerkmale:['Innovation','Integrieren','Konzipieren','Kreative Aspekte','Strategie'],
     lernstil:'Durch Exploration und visuelles / metaphorisches Denken. Bevorzugt offene Lernformate.',
     kommunikation:'Bildhaft, inspirierend und vision√§r. Reagiert positiv auf M√∂glichkeiten statt Einschr√§nkungen.',
     karriere:'Design, Kunst, Entrepreneurship, Innovation, Strategie, F&E, Marketing, Architektur, Beratung',
     st√§rken:'Du denkst in gro√üen Zusammenh√§ngen, siehst Muster und hast ein Gesp√ºr f√ºr Zuk√ºnftiges und M√∂gliches.',
     arbeit:'Du bringst innovative Ideen und treibst konzeptionelles Denken voran. Du bist der Vision√§r im Team.',
     unterDruck:'Unter Druck siehst du viele M√∂glichkeiten gleichzeitig, was manchmal Entscheidungen erschwert.',
     entwicklung:'Kombiniere deine Visionen mit strukturierter Umsetzung (B-Quadrant). Suche dir starke Umsetzer als Partner.'},
};

function showResults(){
  document.getElementById('assessment').style.display='none';
  document.getElementById('results').style.display='block';
  const scores=computeScores(), sorted=[...scores].sort((a,b)=>b.pct-a.pct), dominant=sorted[0];

  document.getElementById('scoreGrid').innerHTML=scores.map(s=>{
    const pref=getPreferenceLevel(s.pct);
    return`<div class="score-card">
      <div class="score-card-top">
        <div><div class="score-label"><div class="score-dot" style="background:${s.color}"></div>${s.id} ‚Äì ${s.name}</div>
        <span class="score-level" style="background:${pref.bg};color:${pref.color};border-color:${pref.border};">Stufe ${pref.level}: ${pref.label}</span></div>
        <div class="score-value" style="color:${s.color}">${s.pct}%</div>
      </div>
      <div class="score-bar-bg"><div class="score-bar-fill" style="width:0%;background:${s.color}" id="bar-${s.id}"></div></div>
    </div>`;
  }).join('');
  setTimeout(()=>scores.forEach(s=>{const b=document.getElementById(`bar-${s.id}`);if(b)b.style.width=s.pct+'%';}),80);

  document.getElementById('quadrantMap').innerHTML=[
    {si:0,label:'A ‚Äì Oben Links',  bg:'rgba(38,128,194,0.08)'},
    {si:3,label:'D ‚Äì Oben Rechts', bg:'rgba(144,48,192,0.08)'},
    {si:1,label:'B ‚Äì Unten Links', bg:'rgba(26,158,110,0.08)'},
    {si:2,label:'C ‚Äì Unten Rechts',bg:'rgba(196,90,32,0.08)'},
  ].map(q=>{
    const s=scores[q.si],sec=sections[q.si],p=profiles[s.id];
    return`<div class="quadrant-box" style="background:${q.bg}">
      <div class="qbox-label" style="color:${s.color}">${q.label}</div>
      <div class="qbox-name" style="color:${s.color}">${sec.icon} ${p.label}</div>
      <div class="qbox-traits">${p.persoenlicheMerkmale.slice(0,4).join(' ¬∑ ')}</div>
      <div class="qbox-score" style="color:${s.color}">${s.pct}%</div>
    </div>`;
  }).join('');

  const rl=['ü•á H√∂chste Pr√§ferenz','ü•à Zweite Pr√§ferenz','ü•â Dritte Pr√§ferenz','4Ô∏è‚É£ Geringste Pr√§ferenz'];
  document.getElementById('profileSection').innerHTML=`
    <div class="profile-title">Dein ausf√ºhrliches Denkstil-Profil</div>
    <div class="pref-order-box">
      <div class="pref-order-label">Deine Pr√§ferenz-Reihenfolge</div>
      <div class="pref-order-badges">
        ${sorted.map((s,i)=>`<span style="background:${s.color};color:#fff;font-weight:700;padding:0.3rem 0.8rem;border-radius:6px;font-size:0.92rem;">${s.id}</span>${i<sorted.length-1?'<span style="color:#aaa;font-weight:700;">‚Ä∫</span>':''}`).join('')}
      </div>
      <div style="font-size:0.82rem;color:#444;margin-top:0.5rem;">Dominantester Denkstil: <strong style="color:${dominant.color}">${dominant.id} ‚Äì ${dominant.name} (${dominant.pct}%)</strong></div>
    </div>
    <div class="whole-brain-note">üí° <strong>Ganzhirn-Denken (Whole Brain Thinking):</strong> Im 4-Quadranten-Modell ist kein Denkstil besser als ein anderer. Die st√§rkste Wirkung entsteht durch das bewusste Nutzen aller vier Quadranten ‚Äì je nach Situation und Aufgabe.</div>
    ${sorted.map((s,rank)=>{
      const p=profiles[s.id],sec=sections.find(x=>x.id===s.id),pref=getPreferenceLevel(s.pct);
      return`<div class="profile-quad-card" style="border-left-color:${s.color};border-color:${s.color}22;">
        <div class="pqc-header">
          <div class="pqc-title-group">
            <div class="pqc-badge" style="background:${s.color};">${s.id}</div>
            <div><div style="font-weight:700;font-size:1rem;color:#111;">${sec.icon} ${p.label}</div>
            <div class="pqc-rank" style="color:${s.color};">${rl[rank]}</div></div>
          </div>
          <div style="text-align:right;">
            <div class="pqc-score" style="color:${s.color};">${s.pct}%</div>
            <span style="font-size:0.7rem;font-weight:600;padding:0.15rem 0.5rem;border-radius:4px;background:${pref.bg};color:${pref.color};border:1px solid ${pref.border};">Stufe ${pref.level} ¬∑ ${pref.label}</span>
          </div>
        </div>
        <div style="margin-bottom:0.6rem;">
          <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.07em;color:#888;margin-bottom:0.3rem;">Pers√∂nliche Merkmale</div>
          <div class="pqc-tags">${p.persoenlicheMerkmale.map(t=>`<span class="pqc-tag" style="background:${s.color}15;color:${s.color};border-color:${s.color}40;">${t}</span>`).join('')}</div>
        </div>
        <div style="margin-bottom:0.8rem;">
          <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.07em;color:#888;margin-bottom:0.3rem;">Bevorzugte T√§tigkeiten</div>
          <div class="pqc-tags">${p.arbeitsMerkmale.map(t=>`<span class="pqc-tag-work">${t}</span>`).join('')}</div>
        </div>
        <div class="pqc-grid">
          <div class="pqc-item" style="background:#f8f9fc;"><div class="pqc-item-label">üí™ St√§rken</div><div class="pqc-item-text">${p.st√§rken}</div></div>
          <div class="pqc-item" style="background:#f8f9fc;"><div class="pqc-item-label">üè¢ Im Beruf</div><div class="pqc-item-text">${p.arbeit}</div></div>
          <div class="pqc-item" style="background:#fff8f0;"><div class="pqc-item-label">‚ö° Unter Druck</div><div class="pqc-item-text">${p.unterDruck}</div></div>
          <div class="pqc-item" style="background:#f0fff8;"><div class="pqc-item-label">üå± Entwicklung</div><div class="pqc-item-text">${p.entwicklung}</div></div>
          <div class="pqc-item" style="background:#f0f7ff;"><div class="pqc-item-label">üìö Lernstil</div><div class="pqc-item-text">${p.lernstil}</div></div>
          <div class="pqc-item" style="background:#f8f0ff;"><div class="pqc-item-label">üí¨ Kommunikation</div><div class="pqc-item-text">${p.kommunikation}</div></div>
        </div>
        <div class="pqc-career"><div class="pqc-career-label">üéØ Passende Berufsfelder</div><div class="pqc-career-text">${p.karriere}</div></div>
      </div>`;
    }).join('')}`;

  requestAnimationFrame(()=>drawSpider(scores));
  scrollToTop();
}

function drawSpider(scores){
  const canvas=document.getElementById('spiderCanvas');
  if(!canvas) return;
  const ctx=canvas.getContext('2d');
  const size=Math.min(canvas.parentElement.clientWidth-36,440);
  canvas.width=size; canvas.height=size;
  const cx=size/2,cy=size/2,R=size*0.35;
  ctx.clearRect(0,0,size,size);
  const n=4,angles=scores.map((_,i)=>(i*2*Math.PI/n)-Math.PI/2);
  for(let ring=1;ring<=5;ring++){
    const r=(ring/5)*R;
    ctx.beginPath();
    for(let i=0;i<n;i++){const x=cx+r*Math.cos(angles[i]),y=cy+r*Math.sin(angles[i]);i===0?ctx.moveTo(x,y):ctx.lineTo(x,y);}
    ctx.closePath();
    ctx.strokeStyle=ring===5?'#c0c8e0':'#e4e7f2'; ctx.lineWidth=ring===5?1.5:1; ctx.stroke();
    if(ring<5){ctx.fillStyle='#bbc0d8';ctx.font=`${Math.max(9,size*0.025)}px DM Sans,sans-serif`;ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(ring*20+'%',cx+3,cy-r+12);}
  }
  angles.forEach(a=>{ctx.beginPath();ctx.moveTo(cx,cy);ctx.lineTo(cx+R*Math.cos(a),cy+R*Math.sin(a));ctx.strokeStyle='#dde0ee';ctx.lineWidth=1;ctx.stroke();});
  ctx.beginPath();
  scores.forEach((s,i)=>{const r=(s.pct/100)*R,x=cx+r*Math.cos(angles[i]),y=cy+r*Math.sin(angles[i]);i===0?ctx.moveTo(x,y):ctx.lineTo(x,y);});
  ctx.closePath();
  const g=ctx.createRadialGradient(cx,cy,0,cx,cy,R);
  g.addColorStop(0,'rgba(38,128,194,0.28)'); g.addColorStop(1,'rgba(144,48,192,0.1)');
  ctx.fillStyle=g; ctx.fill(); ctx.strokeStyle='rgba(38,128,194,0.65)'; ctx.lineWidth=2.5; ctx.stroke();
  const dotR=Math.max(5,size*0.014);
  scores.forEach((s,i)=>{
    const r=(s.pct/100)*R,x=cx+r*Math.cos(angles[i]),y=cy+r*Math.sin(angles[i]);
    ctx.beginPath();ctx.arc(x,y,dotR,0,Math.PI*2);ctx.fillStyle=s.color;ctx.fill();ctx.strokeStyle='#fff';ctx.lineWidth=2;ctx.stroke();
  });
  const lR=R+Math.max(30,size*0.1),fB=Math.max(12,size*0.033),fS=Math.max(10,size*0.027);
  scores.forEach((s,i)=>{
    const x=cx+lR*Math.cos(angles[i]),y=cy+lR*Math.sin(angles[i]);
    ctx.textAlign='center';ctx.textBaseline='middle';
    ctx.font=`bold ${fB}px DM Sans,sans-serif`;ctx.fillStyle=s.color;ctx.fillText(s.id,x,y-fS*0.7);
    ctx.font=`${fS}px DM Sans,sans-serif`;ctx.fillStyle='#222';ctx.fillText(s.pct+'%',x,y+fS*0.7);
  });
}

if(typeof ResizeObserver!=='undefined'){
  new ResizeObserver(()=>{
    if(document.getElementById('results').style.display!=='none'&&Object.keys(answers).length===40) drawSpider(computeScores());
  }).observe(document.querySelector('.spider-section')||document.body);
}

function printResults(){
  const now=new Date();
  document.getElementById('printDate').innerHTML='Datum: '+now.toLocaleDateString('de-CH',{day:'2-digit',month:'long',year:'numeric'})+'<br>Denkstil-Assessment ¬∑ F√§h Consulting';
  document.getElementById('printHeader').style.display='flex';
  setTimeout(()=>{window.print();setTimeout(()=>{document.getElementById('printHeader').style.display='none';},1000);},300);
}

function restart(){
  answers={};currentPage=0;
  document.getElementById('results').style.display='none';
  document.getElementById('intro').style.display='block';
  scrollToTop();
}

function sendHeight(){window.parent.postMessage({frameHeight:document.body.scrollHeight},'*');}
window.addEventListener('load',sendHeight);
new MutationObserver(sendHeight).observe(document.body,{childList:true,subtree:true,attributes:true});
window.addEventListener('resize',sendHeight);
</script>
</body>
</html>
